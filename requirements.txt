# PACTS v3.0 Runtime Dependencies
# Install order: Core-first to avoid circular dependency issues
# Use with constraints.txt: pip install -r requirements.txt --constraint constraints.txt

# ==============================================================================
# STAGE 1: LangChain Core (install FIRST - provides stable base)
# ==============================================================================
langchain-core==0.3.*           # Wildcard lets pip choose compatible minor

# ==============================================================================
# STAGE 2: LangChain Community (install SECOND - aligns to core)
# ==============================================================================
langchain-community==0.3.*      # Aligns to core version

# ==============================================================================
# STAGE 3: LangGraph (independent - doesn't require langchain meta package)
# ==============================================================================
langgraph>=1.0.0,<2.0.0

# ==============================================================================
# STAGE 4: LangSmith (telemetry - pre-0.2 for compatibility)
# ==============================================================================
langsmith==0.1.*

# ==============================================================================
# Browser Automation
# ==============================================================================
playwright>=1.45,<2.0

# ==============================================================================
# Database & Storage
# ==============================================================================
asyncpg>=0.29.0,<0.30.0         # Async Postgres (faster than psycopg for asyncio)
psycopg[binary]>=3.2,<4.0       # Sync Postgres with binary drivers
redis[hiredis]>=5.0,<6.0        # Redis with C parser for performance

# ==============================================================================
# Anthropic SDK (direct - no LangChain dependency)
# ==============================================================================
anthropic>=0.40,<1.0

# ==============================================================================
# Configuration & Utilities
# ==============================================================================
python-dotenv>=1.0.0
pydantic-settings>=2.2,<3.0

# ==============================================================================
# Optional: LangChain Meta Package (only if needed - install LAST)
# ==============================================================================
# Uncomment ONLY if you need features from the meta package
# Most projects only need langchain-core + langchain-community
# langchain==0.3.*
