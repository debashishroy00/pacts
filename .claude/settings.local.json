{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"fix(ux): Wait for actual Lightning UI elements instead of just URL\n\nThe script was closing too early because Salesforce redirects to .my.salesforce.com\nURL before 2FA completes. Now waits for actual App Launcher button to appear,\nwhich only loads after full authentication.\n\nChanges:\n- Wait for URL change to SF domain\n- Then wait for App Launcher button selector\n- Shows ''Still waiting...'' message during 2FA step\n- Only closes browser after Lightning UI fully loads\n\nThis ensures browser stays open through entire 2FA flow.\")",
      "Bash(git commit -m \"fix(cli): Load Salesforce session file correctly\n\nRemoved broken import of deleted sf_session_manager module.\nNow simply loads hitl/salesforce_auth.json if it exists.\n\nSession validity is checked by wrapper scripts before Docker launch,\nso CLI just needs to load the file.\")",
      "Bash(git commit -m \"chore: Remove debug output from pacts.bat wrapper\n\nRemoved ''[DEBUG] Salesforce test detected'' message.\nSession check now runs silently unless session needs refresh.\")",
      "Bash(git push origin main)",
      "Bash(docker compose ps)",
      "Bash(test -f hitl/salesforce_auth.json)",
      "Bash(test -f requirements/salesforce_contact_account.txt)",
      "Bash(mkdir -p runs/salesforce)",
      "Bash(docker compose run --rm pacts-runner bash -lc 'PACTS_SENTINEL_FEATURE=true PACTS_SENTINEL_BEFORE_STEP=off PACTS_SENTINEL_AFTER_ACTION=on PACTS_DYNAMIC_IDLE_MS=12000 python -m backend.cli.main test --req salesforce_contact_account --clear-cache --no-cache 2>&1 | tee runs/salesforce/sentinel_after_actions.log')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'PACTS_SENTINEL_FEATURE=false PACTS_DYNAMIC_IDLE_MS=12000 python -m backend.cli.main test --req salesforce_contact_account --clear-cache --no-cache 2>&1 | tee runs/salesforce/no_sentinel.log')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'test -f metrics_collector.py && echo \"\"Metrics collector exists\"\" || echo \"\"Metrics collector not found\"\"')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python metrics_collector.py 2>&1 | head -50')",
      "Bash(tar -czf sentinel_validation_package.tar.gz runs/salesforce/sentinel_after_actions.log runs/salesforce/no_sentinel.log metrics_summary.md WEEK-9-SENTINEL-VALIDATION.md screenshots/salesforce_contact_account*.png)",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req wikipedia_search 2>&1 | head -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req github_search 2>&1 | head -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req stackoverflow_search 2>&1 | head -80')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req stackoverflow_search 2>&1')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req reddit_search 2>&1 | tail -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req youtube_search 2>&1 | tail -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req python_docs 2>&1 | tail -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'ls -la requirements/*.txt requirements/*.json 2>&1 | head -50')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'cd tests/validation && bash run_validation.sh 2>&1')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --spec tests/validation/static_sites.yaml 2>&1 | tail -80')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --help 2>&1')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req amazon_search 2>&1 | tail -60')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req github_search 2>&1 | tail -80')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req youtube_search 2>&1 | tail -80')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req wikipedia_search 2>&1 | tail -60')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req github_search 2>&1 | tail -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req reddit_search 2>&1 | tail -80')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req reddit_search --clear-cache 2>&1 | tail -100')",
      "Bash(docker compose run --rm pacts-runner bash -lc 'python -m backend.cli.main test --req booking_search --clear-cache 2>&1 | tail -100')",
      "Bash(git add -A)"
    ],
    "deny": [],
    "ask": []
  }
}
